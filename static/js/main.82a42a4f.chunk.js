(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,n){e.exports={nav:"Nav_nav__3A4sc",item:"Nav_item__3pNyf",active:"Nav_active__19WVz"}},130:function(e,t,n){e.exports=n.p+"static/media/user.0d865fef.png"},131:function(e,t,n){e.exports=n.p+"static/media/Spinner.413fae21.svg"},132:function(e,t,n){e.exports={content:"ProFileInfo_content__2Vnit",descriptonBlock:"ProFileInfo_descriptonBlock__2zwsW"}},133:function(e,t,n){e.exports={item:"Posts_item__3AMqF"}},160:function(e,t,n){e.exports=n(286)},165:function(e,t,n){},166:function(e,t,n){},23:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__3o2tT",dialogsItems:"Dialogs_dialogsItems__26dUf",active:"Dialogs_active__VMyZI",message:"Dialogs_message__1KrCY"}},286:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(64),u=n.n(o),s=(n(165),n(26)),c=n(27),i=n(30),l=n(29),m=(n(166),n(13)),p=n.n(m),d=n(11),f=function(){return r.a.createElement("nav",{className:p.a.nav},r.a.createElement("div",{className:"".concat(p.a.item," ").concat(p.a.active)},r.a.createElement(d.b,{to:"/profile",activeClassName:p.a.active},"Profile")),r.a.createElement("div",{className:p.a.item},r.a.createElement(d.b,{to:"/messages",activeClassName:p.a.active},"Messages")),r.a.createElement("div",{className:"".concat(p.a.item," ").concat(p.a.active)},r.a.createElement(d.b,{to:"/users",activeClassName:p.a.active},"Users")),r.a.createElement("div",{className:p.a.item},r.a.createElement(d.b,{to:"/news",activeClassName:p.a.active},"News")),r.a.createElement("div",{className:p.a.item},r.a.createElement(d.b,{to:"/music",activeClassName:p.a.active},"Music")),r.a.createElement("div",{className:p.a.item},r.a.createElement(d.b,{to:"/setting",activeClassName:p.a.active},"Setting")))},g=n(32),E=function(){return r.a.createElement("div",null,"Music")},h=function(){return r.a.createElement("div",null,"News")},v=function(){return r.a.createElement("div",null,"Setting")},A=n(43),b=n(10),S={messages:[{id:1,message:"Hi"},{id:2,message:"How is your it-kamasutra?"},{id:3,message:"Privet!!"},{id:4,message:"Good morning"},{id:5,message:"Yoooo"}],dialogs:[{id:1,name:"Vadim"},{id:2,name:"Vitya"},{id:3,name:"Pasha"},{id:4,name:"Nik"},{id:5,name:"Alina"}],newMessageBody:""},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n=t.newMessageBody;return Object(b.a)({},e,{messages:[].concat(Object(A.a)(e.messages),[{id:6,message:n}])});default:return e}},O=n(23),C=n.n(O),j=function(e){var t="/dialogs/"+e.id;return r.a.createElement("div",{className:C.a.dialog+" "+C.a.active},r.a.createElement(d.b,{to:t},e.name))},I=function(e){return r.a.createElement("div",{className:C.a.message},e.message)},y=n(123),x=n(124),k=n(36),N=n(51),R=n.n(N),B=function(e,t){var n=e.meta.touched&&e.meta.error;return r.a.createElement("div",{className:R.a.formControl+" "+(n?R.a.error:" ")},r.a.createElement("div",null,t),n&&r.a.createElement("span",null,e.meta.error))},P=function(e){var t=e.input,n=(e.meta,Object(k.a)(e,["input","meta"]));return r.a.createElement(B,e,r.a.createElement("textarea",Object.assign({},t,n)))},T=function(e){var t=e.input,n=(e.meta,Object(k.a)(e,["input","meta"]));return r.a.createElement(B,e,r.a.createElement("input",Object.assign({},t,n)))},L=function(e){if(!e)return"Field is REQUIRED"},F=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},z=F(50),Q=Object(x.a)({form:"dialogAddMessageForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(y.a,{component:P,validate:[L,z],name:"newMessageBody",placeholder:"Enter your message"}),r.a.createElement("div",null,r.a.createElement("button",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))})),U=function(e){var t=e.dialogs.map((function(e){return r.a.createElement(j,{name:e.name,id:e.id})})),n=e.messages.map((function(e){return r.a.createElement(I,{message:e.message})}));return r.a.createElement("div",{className:C.a.dialogs},r.a.createElement("div",{className:C.a.dialogsItems},t,r.a.createElement("img",{src:"https://www.freeiconspng.com/uploads/account-profile-user-icon--icon-search-engine-10.png"})),r.a.createElement("div",{className:C.a.messages},r.a.createElement("div",null,n),r.a.createElement(Q,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})))},J=n(9),G=function(e){return{isAuth:e.authReducer.isAuth}};function D(e){return Object(J.b)(G)((function(t){var n=t.isAuth,a=Object(k.a)(t,["isAuth"]);return n?r.a.createElement(e,a):r.a.createElement(g.a,{to:"/login"})}))}var q,V,M=n(6),H=Object(M.d)(Object(J.b)((function(e){return{messages:e.dialogsReducer.messages,dialogs:e.dialogsReducer.dialogs,newMessageBody:e.dialogsReducer.newMessageBody}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND-MESSAGE",newMessageBody:e}}(t))}}})),D)(U),W=n(8),Y=n.n(W),X=n(18),K=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(b.a)({},e,{},a):e}))},Z=n(129),_=n.n(Z).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"39e2ccbf-6904-4d9e-81e4-edb73700d646"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(q||(q={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(V||(V={}));var $={getUsers:function(e,t){return _.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return _.post("follow/".concat(e)).then((function(e){return e.data}))},unfollow:function(e){return _.delete("follow/".concat(e)).then((function(e){return e.data}))}},ee={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},te=function(e){return{type:"FOLLOW",userId:e}},ne=function(e){return{type:"UNFOLLOW",userId:e}},ae=function(e){return{type:"TOGGLE-IS-FETCHING",isFetching:e}},re=function(e,t){return{type:"TOGGLE-IS-FOLLOWING-PROGRESS",isFetching:e,userId:t}},oe=function(){var e=Object(X.a)(Y.a.mark((function e(t,n,a,r){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(re(!0,n)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&t(r(n)),t(re(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(b.a)({},e,{users:K(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(b.a)({},e,{users:K(e.users,t.userId,"id",{followed:!1})});case"SET-USERS":return Object(b.a)({},e,{users:t.user});case"SET-CURRENT-PAGE":return Object(b.a)({},e,{currentPage:t.currentPage});case"SET-TOTAL-USERS-COUNT":return Object(b.a)({},e,{totalUsersCount:t.count});case"TOGGLE-IS-FETCHING":return Object(b.a)({},e,{isFetching:t.isFetching});case"TOGGLE-IS-FOLLOWING-PROGRESS":return Object(b.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(A.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},se=n(67),ce=n(55),ie=n(90),le=n.n(ie),me=n(54),pe=n.n(me),de=function(e){for(var t=e.pageSize,n=e.currentPage,o=e.onPageChanged,u=e.totalItemsCount,s=e.portionSize,c=void 0===s?10:s,i=Math.ceil(u/t),l=[],m=1;m<=i;m++)l.push(m);var p=Math.ceil(i/c),d=Object(a.useState)(1),f=Object(ce.a)(d,2),g=f[0],E=f[1],h=(g-1)*c+1,v=g*c;return r.a.createElement("div",{className:le()()},g>1&&r.a.createElement("button",{onClick:function(){E(g-1)}}," \u041d\u0430\u0437\u0430\u0434 "),l.filter((function(e){return e>=h&&e<=v})).map((function(e){return r.a.createElement("span",{className:le()(Object(se.a)({},pe.a.selectedPage,n===e),pe.a.pageNumber),key:e,onClick:function(t){o(e)}},e)})),p>g&&r.a.createElement("button",{onClick:function(){E(g+1)}}," \u0412\u043f\u0435\u0440\u0435\u0434 "))},fe=n(130),ge=n.n(fe),Ee=function(e){return r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(d.b,{to:"/profile/"+e.user.id},r.a.createElement("img",{src:null!=e.user.photos.small?e.user.photos.small:ge.a,className:pe.a.userPhoto}))),r.a.createElement("span",null,r.a.createElement("div",null,e.user.status),r.a.createElement("div",null,e.user.name)),r.a.createElement("div",null,e.user.followed?r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.unfollow(e.user.id)}}," Unfollow "):r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.follow(e.user.id)}}," Follow ")))},he=function(e){var t=e.currentPage,n=e.totalUsersCount,a=e.pageSize,o=e.onPageChanged,u=e.users,s=Object(k.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanged","users"]);return r.a.createElement("div",null,r.a.createElement(de,{totalItemsCount:n,pageSize:a,currentPage:t,onPageChanged:o}),r.a.createElement("div",null,u.map((function(e){return r.a.createElement(Ee,{user:e,key:e.id,followingInProgress:s.followingInProgress,unfollow:s.unfollow,follow:s.follow})}))))},ve=n(131),Ae=n.n(ve),be=function(){return r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement("img",{src:Ae.a}))},Se=function(e){return e.usersReducer.users},we=function(e){return e.usersReducer.pageSize},Oe=function(e){return e.usersReducer.totalUsersCount},Ce=function(e){return e.usersReducer.currentPage},je=function(e){return e.usersReducer.isFetching},Ie=function(e){return e.usersReducer.followingInProgress},ye=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement(be,null):null,r.a.createElement(he,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}))}}]),n}(r.a.Component),xe=Object(M.d)(Object(J.b)((function(e){return{users:Se(e),pageSize:we(e),totalUsersCount:Oe(e),currentPage:Ce(e),isFetching:je(e),followingInProgress:Ie(e)}}),{follow:function(e){return function(){var t=Object(X.a)(Y.a.mark((function t(n){var a;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=$.follow.bind($),t.next=3,oe(n,e,a,te);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(X.a)(Y.a.mark((function t(n){var a;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=$.unfollow.bind($),t.next=3,oe(n,e,a,ne);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUsers:function(e,t){return function(){var n=Object(X.a)(Y.a.mark((function n(a){var r;return Y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ae(!0)),a({type:"SET-CURRENT-PAGE",currentPage:e}),n.next=4,$.getUsers(e,t);case 4:r=n.sent,a(ae(!1)),a({type:"SET-USERS",user:r.items}),a({type:"SET-TOTAL-USERS-COUNT",count:r.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(ye),ke=n(132),Ne=n.n(ke),Re=function(e){var t=Object(a.useState)(!1),n=Object(ce.a)(t,2),o=n[0],u=n[1],s=Object(a.useState)(e.status),c=Object(ce.a)(s,2),i=c[0],l=c[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return r.a.createElement("div",null,!o&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){u(!0)}},e.status||"no status")),o&&r.a.createElement("div",null,r.a.createElement("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){u(!1),e.updateStatus(i)},value:i})))},Be=function(e){return e.profile?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:"https://yt3.ggpht.com/a/AATXAJw-1Q1rZ2g6vGCRz4_aIKI2v0uIGUkSIL7Ayw=s900-c-k-c0xffffffff-no-rj-mo"})),r.a.createElement("div",{className:Ne.a.descriptonBlock},r.a.createElement("img",{src:e.profile.photos.large}),r.a.createElement(Re,{status:e.status,updateStatus:e.updateStatus}))):r.a.createElement(be,null)},Pe=function(e){return _.get("profile/"+e).then((function(e){return e.data}))},Te=function(e){return _.get("profile/status/"+e).then((function(e){return e.data}))},Le=function(e){return _.put("profile/status",{status:e}).then((function(e){return e.data}))},Fe={posts:[{id:1,message:"Hey,how are you?",likeCount:15},{id:2,message:"It's my first post",likeCount:20}],profile:null,status:"",newPostText:""},ze=function(e){return{type:"SET-STATUS",status:e}},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:5,message:t.newPostText,likeCount:0};return Object(b.a)({},e,{posts:[].concat(Object(A.a)(e.posts),[n]),newPostText:""});case"SET-USER-PROFILE":return Object(b.a)({},e,{profile:t.profile});case"SET-STATUS":return Object(b.a)({},e,{status:t.status});case"DELETE-POST":return Object(b.a)({},e,{posts:e.posts.filter((function(e){return e.id!=t.postId}))});default:return e}},Ue=n(91),Je=n.n(Ue),Ge=n(133),De=n.n(Ge),qe=function(e){return r.a.createElement("div",{className:De.a.item},r.a.createElement("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMTEhUSEhMVFhUXFhcVGBUVFxUVGBcVFxUWGBUXFxcYHSggGBolHRcVITEhJSkrLi4uFx8zODMtNygtLisBCgoKDg0OGhAQFy0dHR0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLf/AABEIAMIBAwMBIgACEQEDEQH/xAAbAAAABwEAAAAAAAAAAAAAAAAAAQIDBAUGB//EAEEQAAEDAgMEBwQIBQQCAwAAAAEAAhEDIQQSMQVBUXEGIjJhgZHBE6Gx8BQjJEJSctHhBzOCssJTYnPxFTQXQ6L/xAAaAQADAQEBAQAAAAAAAAAAAAAAAQIDBAUG/8QAIxEBAQACAQQCAgMAAAAAAAAAAAECETEDEiFBBCJRYRMycf/aAAwDAQACEQMRAD8Al9NB9jP5BHg0lcfdquydKmzhHRf6okeRHquNu18VjW+KRV0C6D0LP2bw/wAyufVhYeK3/Ql32c8j/eVnjwvqL0I0SEq2RSNEEaYKPoou0/5X9I/tUoqPjx9Wfyf4o9kqOidEPrEnct/h6kWXOOi7yK+u5bwVFpahbCsEsvGVVIqJecwlsJBCrsQLp51QqDiKim0KrbmFD2GVynabYqEcLLqe065DSuV7QdNRxXX8L+1LJHCUkhGF6kZlowiGiMK4CgjSQlBXAUEAiRhUCiiQQTAIyUSIpgCkoyiQE1gsgm2usjXJb5bOrdKqf2R5BiKLvEREHiuNVWQRyB84K7N0qP2N1xekQZ71x3Gdpv5W/ALwK1xLrCw8Vuegh+ofzPoVhqug5lbjoJ/JfzP+Kzx4X1GiQQRK2ZYRpIRpkWmcf/Ld+T/FOgpvGCWO72f4o9kzHRx31y3LXLIbFwQZUlathV5IiQCnW6KO0p1uikxuKr8S5TnEqsxbkqFNtd5yFc0xR65XRsfBgOuJuJiRrE7p0Vdjui9KowPpj2bjvBc5n9QcSQO8HwK2+N18Oll9vYuFynhhgjUrG7PfRfkqNg6gi4cOLTvCVR2VWd2aTzyaf0XrzPHW9+GWkZqAVzR6L4kiS1rPzuDVY0Ohb/v1WARPVBdzA0CL1+njzkfbWYY0kgAEk2AFyT3BbPYfREiHYhsuMZaVxE73xv7vNSdlU8Lh5dSDn1BbM+JG6w3TPNXuytoD2oLjLtIHZZzO93cNOK4fkfOt+vT8ftph0/dc56Q4ZlPE1qdOzGvIaNYHBV4Vp0opluKrSI65Pn4BVQXrdK7wn+RleRo0SC0IaIoIFMCKSjKDdUBKa2yCcaguG5eW8jp/Stw+h33sjz3rkOOdLm/lb8Aut9Lr4No4tHGZkRHiuRYk9Ych8AvCrXE8/sjmVtOgTvqqg/3ejVi39kcz6LW9AnQytJsHT4ZGyoxX1GrRIFEqZFhGEkIwmRYSMR1WHub6JYTG1XRTqfkP9qfslfs3Ehz1ftKw3RfEZqsdy27VeVRD7U83RMNTzdFJicqrGuVk9VGOKmhn9sVYE8DPktJsDG030GjO0AN3mDzj3cwsht94yqPsGpFFzpaYfZjtIiTB5pXH6XL8LwvnTSbXexpBpgPIOhgjhLRq096q8dtSqHNEuibtd2p1gEesKfSxoFPMGMzuG8AjTcDoe/u8k4fZpcDUdebyLzpYDQaQpx3F5IdfFPqGHGAd+l7Zd2/qpvBveermOYEBoF5m/kBv7irp2Hb7WjlYTTeDTew/dNnA8rHxVbQPsMSCJLGgjmAS0eIDneSruToX0F38wyZJmdeYI592/jeRj6lKjQDqZe0xd7hInQABsefuTlXbtLD56NQGpmqZ8rdGNd2A5xs286lCpVwtZuXrNDgSWPEFr2mCJGq06eWPdLlwVnpgK9YvcXOMknW/qkBPY6hkqOZwJHkUyvpMbLPDnBGiRqiBBHCOEzJhBoulQjYLotCS0IJQYjXm2+XRI6H0xefotON9o0m4t7lyR3a811jpow/R6UC4cItMSY/bxXJ3Wd4leOucJNQWHM+i1nQeiHU67To6QeRYFlH6DmVrugXZrAa3if8AjCjFfUal3dpZJRn9ESqMigjCSEYTI4Extz+XU/K7+1PhRtvXo1Y/03f2pkxvQ4/W+C6A0rnv8P6bs7swg966A0p1J9qezCFGaUb8Q0DUIBdRwVNj3BKxO12iR79VW/S85iPFKw9KfazcxDRvKknZI9kGExfNPAxFvBWZwjAc2sX8VX4jFRJ3SLDX3+KN6mjk8n8NSYwAEuNgGwTu0387p7bAxJoFlM5Rnghh60Fpygu3XAEbyQFK2ThyWe2eCGkEd2WDv4qJiWGS+lVBaLEtc0iPwvaTytcLPa1HsV1anFY0zT+0Ma2nDuuyJrWddwaIOY6HyWr2xs0OqzR67TcEbg6/zyTOBxdSoHe0yw5uTMWNBLdYza5e6Uio92DgVAXUn9ZjohuYi7cwtoLDvRrzssZdaU+J6KDFYiq9zzTY2oC+cskWkAOcINy0a6BXTcaxoFCmQS4udUcNJcdGyBYCBJgmJgJqjQNWi7E5QA+q5ozOAkCAX3gkSI8EdLZTaWh9oXmRlcPImbAeiexMfLKdKsL7PEOuDN7GbEAj/pU4Wl6TUi6obtkQIDmEiBwLrKgNH5lvoV73Q+Rh2SXKbYZY3ZoJQCUWcvMIgF1TqY3ip0CCVkKLKeCuWASXRF0hKpapZcCcrJoCCaBQXk2+XXI6N0hJNClGhfB5AuPxaFx2pr4ldv2hRDqLbaF55QH3XD36rzaUTHdkcytb/D43rjkf/wA/ssk7sjmrroViC3FEDRwAPKD+yzjTNvCiQQVshhKCIIwmRwJFYfVmb9W/knGpbWS0DiAPcgmZw2LYx1hEq4bihrKXU2JTduVLtDLQJEnwkn3IGlhi8cQOoQTwmFRY3aJdqCPL5KZ9uSdI5kHx59yhPr537403d1+CezkLqVsxvu74UzC4sDTXzJVTWpGSRN9/z6qQKzQQJ9ESirCpiTlgd9u/vCRtHsyydzrW9/MKsdX6x5x5/wDatcJ/La6wEwQ65ndA9UqIbo4l0Anrt/A8uOnATGvFaHZFdp6pZ7NvA8e4Aa81n6rG0CXtFnaBpku/SZi0WKk4HazHgufZrYB3NzbmMPHWXcPDNncVytfiMFplZIJ1NyNAQCS6OTGg/wC4Eym9tYp76JwzaeYERBHVHAkkkzyM8lV09t5ey7QRAiBJyhoG4ASI4hPs6QVJ7II4kKe7R62dwjXspNbWDWta0AZTrFoynRMYqvTyy4SYOUwS5g4HeT3A3i06CHidoufJI0mSbxHAKvwOIFT2jZJztNwfKCN8qsbulfCsxxcbtfnabgPhzSO4wCOW7jKqX02O0GQ8Ddvnq3xnmmK+NqNc4C7wes3c+PvDg8d1943pqptAvGYC4F9JjvjWNzhu1i03cKnuiR7OLIBqgs2nxFkr/wAizvU9mR90SyChndpKitx7EsY1nFOXOcWj6pAeU7h3XmFFbXbxCeo1RxCr+fqyf2omOKdKCQHoln/Ln+W+o6xi3AUCTwf53gLiGQQSZ7uE8D5rrvSWsW4SQSDmMEfm+C4/V18Vowiaez4/qrboV/7v9B/tVU7TxVt0IP2w/wDH6LPFfU4bwI0QRqozGEoJISgqI41SKY05D4Jhqew+jeQ+CZE7QxXs6ZdMLEYvEuLXG8k30+JV50rxMQ2YES4/BZwODqbomPVFM1gmggzG+5iT7k3MPygDkpeHxeVoERaw0vxv82SX0wXZwC08DbXRTTM4qQYzEgjuFjpqqvFuyu14EK32jWLmw0CBrYC1h46BU+0G9XPHdqLjkiClMf1hluTF9bjgFcYSq3OM2ju1OgO/fr+qqNm05bPd46hWuEaDMtMzpy3xwVVMWmIpPa3IWgtdYEDRugaOAO87pPJU20MCLPpw6mw9WDq43mDe5bJncI4K4w+NqsBB67bDKbXd74iRfeUjaGy21hmpODSJhsxeDPPQjwUb0pR4LGvpuIezMBln8UgQT33JW92VUZUaHN38RdYKvs2u1zmnUbjvn8LuP6qbsTaFeiQMkk6E2B4ypvlUdD+jtAJDQSshW6tcNAIc8iSALAHSQtM7aYLBucR2bSFQ0cL9dnnMSYE8JvB8054JX4vowHOzSZ1n4FRKnRTrZhZ3uPHz37it+9nck+yVeUubVuiLt3koj+ij11I0VFqxMNElG6NRy3E9Hnt3KJ/4V/4V1obPGrrlL+gN4I7qXbHHn7JePulCjg3tOjveuvu2azgFHr7JZHZCLlTmM25w1phBaqrgWybILLbpXfS6pOEaQfvO3C4JcFyqtquqdLqUYSkB+IcBMkj13LllcX8Vr7YzhNb2fH0Vn0QfGM/pVY0W8fRWPRVs4v8ApHxCiLzdCCMJIKAVRkcCWE2EoJkeancCOo2eCaancGDkbGsJ+yZDb59riHN1DNw0kC08YlQcNiDcA5QLcIv3ap7FHJXqN7RLiI05yU1iMP1SHNAcdBTzPd42+CKZvFUIGYCLzeNddyVgnB7eu4kD8NgJO+wHGExhnHNleSCJHXmP++5Jw803FrnQ2Z1gOJMC6RlUmn2rmgZgTv5+/h5Jra4aWugiA3sgg2HG+6/l3peKrQ/SAXC06HRpO+d9u5M1xE5d8TIuAdLid3zdOEY2FUlgHeQY4K3p5RBmTcGN3MlZ3YmJyFzDIBG7v+Sr44ynADd0A7vdv/6TpRYPrHJa5Nwedgbxx1/dQ6zYABBIFvH8XO45XRPxVTWBESZuIHE6nlzTH/kbAhvVJmN8TY8zLj4qKqLUOERmmS2JMX1369keaafUeCYDJDr37XG3GyS+p7QCWCwzAkxBbwHHTzT5pZYBAuTBA0dcgHfETfvhZ1Zh9Z0iJPVnhB0yzu1+ZWi6N4a7S43AJ/ZUtNskzE6d0buepW02Bs8tpzrPFVjyVPVKabc0ASdFOfSItCiPwLnGX6bmj1WiEMBzz1bN48eSeZhgNApnso3IwxGgh+xRexU400RYjQQxTTWLZ1VYZFFx7OqUrBGNxHaPNBN4o9c80Flp0Rd9J2Thaf5qfhLwLd91ybEanmuu9IHxhabtL0yTpHXaSfcuRV9fFbMZwmU9PH0Vr0ObOMPcyfJVVPdz9FcdC3RjHf8AGFnPa+pw3ICMFBJJVRmWCnGlMhOMTJIapGC7LeQ+CjNUnAnqt5D4Jk5ztDFZa9Ru/M6wuYk+XNNHG6ZWNETmJnTcAf0UrbbhTxNUvsMwvEWjQe8JlrgRny5STZp8Yn3Jmfp1vaC4vymD467xdV2JcxzxLntcLZiNDpIupLWsY2Mrs+hymcxPyUxWLXbg5/Hs9033D03JAt7rQ6HGAeqRrrPG415JNGXNLc0EwQBvPf3aecKvdXGaBlEkwS2ZA0IvaIOuqm0q7zIcGEAGTlAOkTG47rIJV4rBub14tvndN1abMc1oBNrgmLfvx4fBT6LGOHsnixA6zblp7I3e71VHiMO5jiwyHN1O528R3GJnvT3sa0s6hFQgFwAJM+EnxAAurQ4VgENyiI60fHu004Kq2XhWmCGhxi8uvvNh3R5hSTQq0gXNzQI1I7yR36nzWeSsUh2Fe/UteDMhpuLSIncbKZhbtDnAttBb3g6xxRjDOd7Oo0wW6zwnTyA8keIqZ7DcoWmbEwXtKnd86LoNGmAICqujmysjAXDrFXoatMYi021gRlqVlRQrIks7kPZjgnEkoI2aQ4Js0BwUhFKYR/o4ULaVAZVaFV+1XdVI451jW9d3NBN45/1juaCydMjTdIaIOEY28TTEjWMzR6rjuI18V2XbJjCjNuyE6zZ7J0XGa2vitGETG+vorXof/wC4f+MfFVLDpz9Fa9Dz9sJP+n6hRj7VnxG8lESmi5AvTiDrSnqYURr1LpFMj4Kl7LuGch8FBNr9yl7DfNOmf9oROSY7p9hWjFNLtHtbfk648lR1qxd2XEnfviNL7o0Wz/iVhj7Flb8LwPBwIXP6GIJBDbEx4qgXUqOIDQ4gi0iLazfzR5KMHM9ziBe0kxYanvEcITjaDhdxkfhnjc8zoUwym4tOUDUm+pPADeQIQC8MBnLms6tmtnWJ62UW7p5q4wjy4OL2tAkEOI+6LEGRfT4qopNfmn2lu1GggSSJHJWWzqdixztS2BugyTHfMjzSpxbsqtuR3W1veQPnco239nitTDmdWowSALhzNSBG/h5J7CCwJiO1zJIgTv1U+iAJ7tD5EEd6x3ZWmtxhdkYrK8EEnMDJuL3gfPFaGhtJk3i4nxFjrpoqbbLctYlvZccw0jeDHiNP2Uqls5rqZcD905SO5aZSIxSMX0kY2zdIEjvB/Yp7onijXxLGRq7NfS149xWTw+FGbrHzXQOgtEfSKcDifJpS8b0fl1JjLBGjuik8FoglyAalSjlAJhJISpCBCARCIhLREIBBCrNs9kq1KqNt9kopxy/Hv+sdzRpjHn6x3NEsduqNz0pb9kJ7mzNrZmlcexgio4cHH4rsXTQxgHx+Fn9zVxjEPl7jxcT5lauecJZNvH0Vr0Od9r/o9Qqau6G+IT/RysWV/abg0371OM5PO8OhVKg3pk1wd6xOP2s8vlrv6d3KyYobUqA9Qlp8+aqY1G46NQEqyptgLmrdvYkR1/IBSztus4Q55J4Wt5FGi22+NrlwLaYkmxduH68ladH9jVW5HVHmGtAawCG8zvJXP6e0agHbcD3SPgUrGbVqQAXVNN7nFLtNtf4m1GjAuBIkvYGiRM5pPulchwle8b9B4qwxLi+5m0zx0tqqsUjM71ek7XWGjcMx0G8efE2U/wCi5QC90SOyBHgd/BVWCrloOV1xv+fBWIxEQahk6DfGp08vJI0nDx1Q1pMiTIsBIkDzmFJo4AvLiXBtgBF+1PlpKpTtRxIER+uYekKxwVYg3vduptlzAEQlTWVLCOAaHGXNhw7xoZ8j70unIEO3T7h+/uUrC0HZJm463he3mG+aIMDmkg9pzmyf9tj6LK+VxksXSPtCzXK4kCJvoeWgVpg6LojSATw3EC3CyotpV3DEOi98uvD10C0OzA28lx3a2mb+F7K8uEzlmKAzO57lveguFjFMEugBzo3AxGvisRSw4bXeBoHujlK6L0NdlLnSScoA7pJn3gJa+x+nQESrW7RTrdoBaoTUUJgYwI24nkkDpCJF7YJWcIAi1EQnJCKyAQqTb56pV/lVH0gb1TySpzlyDHv+sdzQRY/+Y7mjWTrjfdNBGAcODWjyIXF3m67Z0vP2SpP4D8FxB2q1jl9J7aBfDRvNzpA4lLxFGnTblFQuM3gQE5hKZMico+87g2RPiixFFjX9kwDHWOp74+bJ4lnTLcGWgVAQ5s3iRzB+d6exFMB7SNTe1o1sIVrRwbMhcP5bwWm85XQSD5+ij7C2FiMW6aTOqLGo6zBy4nknanSLWfmIBJEcTcDv4FTqFRuUDdMk3PwW52V/DWkIdXqvqHg3qt8N60uG6I4NogUQfzSfiVO1OWFt4y21kifKUzigJ6oMxyjlxXYxsDCt0oU/IKJX2Lh3f/TT8tyQcXDo13puk0udp6LpW3eh1FzSaYLHeMeSyIwwotyTB+8SIJPzFlW06VDsIWkRc8t/clXHadGvyVOdU6puSNJdv32CgYkt1dc+QtogyX43dTbwufFTtnyCXuJMWgcZn55qsz+J3cEs1TEA+A38VNNq8Jitetd0cgBoB4BS8Q8NY0jS8d5IufJYZxdHUmffwT9HEVIFMk6wOGkXU9qu4VA+0qOO8uPnK3WyNmEsm/LisrU2XUoxXLerviTfifKCrSjtivLYkSCWiJkCOJ7wndUoqq9ItxdRhsS4mDaxFlqdjY0UqgzHqusb6cFn9s1S8trOb1nBzLyIc3u8UzsnCOqkgk5hEcOXin+ydVpVA4S0gg7wU40Ki6MEBpbyMc1ee0PAq5dgoJQcUljp7u5LDUA7TeVKpuKYpUlKpsSBxpTrQiY1OAIIQVD0kd1Cr8hZrpNOQ8kqc5cixrvrHc0EjFHru5oLF1tZtbpPQq4aMxzEAFpF80HXukahYPYmzDUfJByMu4j3DxVozYjnQRGU3EzmjdbeeS0mzNnezp+zAAGpIMlxgAzG/wAFp3OWsztB2QgMY0XAJaDuNveqKvmdqbXj19632MbTIyZbcc0G3EwsPi2FrzmEQCAPK6rCpp/Y+IyktM5SC0gbwV0zZgcykwUn5WQIA0uFySk+8rZ9FdtEEUnk5ToeB/dPOCVtaG0MQOy/N/Tm/cqQzpJWaOs1ju+7bfqq41JILZ5CyBYJB36WKy2pcs6SA9qmRaSQZjlxSm9IMOfvGeEElUQqREAWTdWk13WLROtrI2GnbjqL7Co3kbGfFVm1OimHr3kg8WkKhfQbBENExcAk67r20TMkaONuCexoxtP+H1WzKFXMNOsIDReZd46aqJU/hlif9Zp8T+iuqe0KjbtqOBvrfwv6qXR6RYjix3cQE+6lpmv/AI1xP+o3wP7Ij/DjEjR7Dz/VbUdJ3gHPTE9xj1Kfo9KaZAL2lvKDEI7hpiKXQzGU9GMdvs+/hmAHvUuhs6vTY4Pw9RzjoMoc0nddpMX3reUNtYd2lUDudY++ymU67HdlzXciClvYYHFU8U8Np08NUyCcxOVgJiwGcgm9/BAuY0t9pRqMAaRem8ZeyBBiJtu4LoRCCAwWy9mfSnD2lBwoiSHPBaS4taJaCc24371bs6GU/uVarfEOAPEZgb81pcvFKpoCo2N0WbRfnNao/uOUCYAnqgbgFf8A0QcEkFPUnHcqgNjCBAYQKYCf+0cpkjNoJYpJxBxQCLIJUIBvcgEwsx0rd1HclqCsl0tPUcinjy5FX7R5lBFV1PNBY6dbX4BouYvIE74nitps67Wze2++5BBNzKva9Fvs5ytnjAlYLpBSb7N5yicjbwJ7XFBBGPKayX6Kz2U4+1p/nHxQQXQmOjtNwkk9U/PBBBYrB+9TcWwezmBMt9UEEqEN7j8+CRWHxP8AijQRQhlo4fN03RsXRxHxRoIBL2gOBAA5ckqidEEEAH6eJ9Up1oi3JBBKBMwOLqCYe8aaOI9VtdnvJbck87oIICQEf6eqCCojlE+ilU0SCcB9uo5JbkSCoiD6I3eiCCDJCDkaCZDZfX5usd0z7Dvyu+BQQU32rHlyN+p5okEFm6X/2Q=="}),e.message,r.a.createElement("img",{src:"https://pngimg.com/uploads/like/like_PNG64.png"}),e.likeCount)},Ve=F(100),Me=r.a.memo((function(e){console.log("hello");var t=e.posts.map((function(e){return r.a.createElement(qe,{message:e.message,likeCount:e.likeCount})}));return r.a.createElement("div",{className:Je.a.postsBlock},r.a.createElement("h3",null,"My posts"),r.a.createElement(He,{onSubmit:function(t){e.addPost(t.newPostText)}}),r.a.createElement("div",{className:Je.a.posts},t))})),He=Object(x.a)({form:"ProfileAddNewPostForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(y.a,{name:"newPostText",component:P,validate:[L,Ve]})),r.a.createElement("div",null,r.a.createElement("button",null,"Add post")))})),We=Me,Ye=Object(J.b)((function(e){return{posts:e.profileReducer.posts,newPostText:e.profileReducer.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostText:e}}(t))}}}))(We),Xe=function(e){return r.a.createElement("div",null,r.a.createElement(Be,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),r.a.createElement(Ye,null))},Ke=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Xe,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})))}}]),n}(r.a.Component),Ze=Object(M.d)(g.f,Object(J.b)((function(e){return{profile:e.profileReducer.profile,status:e.profileReducer.status,authorizedUserId:e.authReducer.userId,isAuth:e.authReducer.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(X.a)(Y.a.mark((function t(n){var a;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pe(e);case 2:a=t.sent,n({type:"SET-USER-PROFILE",profile:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(X.a)(Y.a.mark((function t(n){var a;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Te(e);case 2:a=t.sent,n(ze(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(X.a)(Y.a.mark((function t(n){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Le(e);case 2:0===t.sent.resultCode&&n(ze(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),D)(Ke),_e=n(92),$e=n.n(_e),et=function(e){return r.a.createElement("header",{className:$e.a.header},r.a.createElement("img",{src:"https://sun9-11.userapi.com/c206524/v206524011/77a30/hQ1xadkgImw.jpg"}),r.a.createElement("div",{className:$e.a.loginBlock},e.isAuth?r.a.createElement("div",null," ",e.login," - ",r.a.createElement("button",{onClick:e.logout},"Log Out")," "):r.a.createElement(d.b,{to:"/login"},"Login")))},tt=n(38),nt=function(){return _.get("auth/me").then((function(e){return e.data}))},at=function(e,t,n){return _.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},rt=function(){return _.delete("auth/login")},ot={userId:null,email:null,login:null,isAuth:!1},ut=function(e,t,n,a){return{type:"SET-USER-DATA",payload:{userId:e,email:t,login:n,isAuth:a}}},st=function(){return function(){var e=Object(X.a)(Y.a.mark((function e(t){var n,a,r,o,u;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:(n=e.sent).resultCode===q.Success&&(a=n.data,r=a.id,o=a.email,u=a.login,t(ut(r,o,u,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(b.a)({},e,{},t.payload);default:return e}},it=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(et,Object.assign({},this.props,{isAuth:this.props.isAuth,login:this.props.login,logout:this.props.logout}))}}]),n}(r.a.Component),lt=Object(J.b)((function(e){return{isAuth:e.authReducer.isAuth,login:e.authReducer.login}}),{logout:function(){return function(){var e=Object(X.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt();case 2:0===e.sent.data.resultCode&&t(ut(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(it),mt=Object(x.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(y.a,{placeholder:"Email",name:"email",validate:[L],component:T})),r.a.createElement("div",null,r.a.createElement(y.a,{placeholder:"Password",name:"password",validate:[L],component:T,type:"password"})),r.a.createElement("div",null,r.a.createElement(y.a,{component:T,name:"rememberMe",type:"checkbox"})," remember me"),e.error&&r.a.createElement("div",{className:R.a.formSummuryError},e.error),r.a.createElement("div",null,r.a.createElement("button",null,"Login")))})),pt=Object(J.b)((function(e){return{isAuth:e.authReducer.isAuth}}),{login:function(e,t,n){return function(){var a=Object(X.a)(Y.a.mark((function a(r){var o,u;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,at(e,t,n);case 2:if((o=a.sent).resultCode!==q.Success){a.next=8;break}return a.next=6,r(st());case 6:a.next=10;break;case 8:u=o.messages.length>0?o.messages[0]:"Some error",r(Object(tt.a)("login",{_error:u}));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(g.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"LOGIN"),r.a.createElement(mt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))})),dt={initialized:!1},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-INITIALIZED-SUCCESS":return Object(b.a)({},e,{initialized:!0});default:return e}},gt=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(lt,null),r.a.createElement(f,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(g.b,{path:"/messages",render:function(){return r.a.createElement(H,null)}}),r.a.createElement(g.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Ze,null)}}),r.a.createElement(g.b,{path:"/users",render:function(){return r.a.createElement(xe,null)}}),r.a.createElement(g.b,{path:"/login",render:function(){return r.a.createElement(pt,null)}}),r.a.createElement(g.b,{path:"/news",render:function(){return r.a.createElement(h,null)}}),r.a.createElement(g.b,{path:"/music",render:function(){return r.a.createElement(E,null)}}),r.a.createElement(g.b,{path:"/setting",render:function(){return r.a.createElement(v,null)}}))):r.a.createElement(be,null)}}]),n}(r.a.Component),Et=Object(M.d)(g.f,Object(J.b)((function(e){return{initialized:e.appReducer.initialized}}),{initializeApp:function(){return function(e){var t=e(st());Promise.all([t]).then((function(){e({type:"SET-INITIALIZED-SUCCESS"})}))}}}))(gt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ht=n(134),vt=n(125),At=Object(M.c)({profileReducer:Qe,dialogsReducer:w,usersReducer:ue,authReducer:ct,form:vt.a,appReducer:ft}),bt=Object(M.e)(At,Object(M.a)(ht.a));u.a.render(r.a.createElement(d.a,null,r.a.createElement(J.a,{store:bt},r.a.createElement(Et,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},51:function(e,t,n){e.exports={formControl:"FormControls_formControl__hLpFo",error:"FormControls_error__3Z_Yh",formSummuryError:"FormControls_formSummuryError__2nIdy"}},54:function(e,t,n){e.exports={selectedPage:"Users_selectedPage__1rcMv",pageNumber:"Users_pageNumber__1xYwF"}},91:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__1cEkw",posts:"MyPosts_posts__1d6AK"}},92:function(e,t,n){e.exports={header:"Header_header__1lVSu",loginBlock:"Header_loginBlock__2bwxL"}}},[[160,1,2]]]);
//# sourceMappingURL=main.82a42a4f.chunk.js.map